{% extends "base.html" %}
{% block title %}Teacher Dashboard{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-md-2 sidebar p-0">
            <div class="list-group list-group-flush">
                <a href="{{ url_for('teacher_dashboard') }}" class="nav-link active"><i class="bi bi-speedometer2"></i> Dashboard</a>
                <a href="{{ url_for('staff_profile') }}" class="nav-link"><i class="bi bi-person"></i> Profile</a>
                <a href="{{ url_for('teacher_attendance') }}" class="nav-link"><i class="bi bi-calendar-check"></i> Attendance</a>
                <a href="{{ url_for('teacher_assignments') }}" class="nav-link"><i class="bi bi-clipboard"></i> Assignments</a>
                <a href="{{ url_for('teacher_marks') }}" class="nav-link"><i class="bi bi-award"></i> Marks/Results</a>
            </div>
        </div>
        <div class="col-md-10 content-wrapper">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}{% for category, message in messages %}<div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">{{ message }}<button type="button" class="btn-close" data-bs-dismiss="alert"></button></div>{% endfor %}{% endif %}
            {% endwith %}
            <div class="welcome-banner">
                <div class="row align-items-center"><div class="col-md-8"><h2><i class="bi bi-sun"></i> Welcome, {{ session.full_name }}!</h2><p><i class="bi bi-calendar3"></i> {{ current_datetime }}</p><p><i class="bi bi-building"></i> Department: Teaching</p></div><div class="col-md-4 text-end"><i class="bi bi-person-workspace" style="font-size: 4rem; opacity: 0.3;"></i></div></div>
            </div>
            <div class="row">
                <div class="col-md-4"><div class="stat-card blue"><div class="d-flex justify-content-between align-items-center"><div><h3>{{ my_classes|length }}</h3><p>My Classes</p></div><div><i class="bi bi-building" style="font-size: 3rem; opacity: 0.5;"></i></div></div></div></div>
                <div class="col-md-4"><div class="stat-card green"><div class="d-flex justify-content-between align-items-center"><div><h3>{{ student_count }}</h3><p>Total Students</p></div><div><i class="bi bi-people" style="font-size: 3rem; opacity: 0.5;"></i></div></div></div></div>
                <div class="col-md-4"><div class="stat-card orange"><div class="d-flex justify-content-between align-items-center"><div><h3>{{ assignment_count }}</h3><p>Active Assignments</p></div><div><i class="bi bi-clipboard" style="font-size: 3rem; opacity: 0.5;"></i></div></div></div></div>
            </div>
            <div class="row mt-4"><div class="col-md-12"><div class="card"><div class="card-header"><i class="bi bi-building"></i> My Classes</div><div class="card-body"><div class="table-responsive"><table class="table"><thead><tr><th>Class Name</th><th>Grade Level</th><th>Capacity</th></tr></thead><tbody>{% for class in my_classes %}<tr><td>{{ class.name }}</td><td>{{ class.grade_level }}</td><td>{{ class.capacity }}</td></tr>{% endfor %}</tbody></table></div></div></div></div></div>
        </div>
    </div>
</div>
{% endblock %}
