{% extends "base.html" %}
{% block title %}Assignments{% endblock %}
{% block content %}
<div class="container mt-4">
	<h2>Assignments</h2>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>Title</th>
				<th>Subject</th>
				<th>Due Date</th>
				<th>Status</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			{% for assignment in assignments %}
			<tr>
				<td>{{ assignment.title }}</td>
				<td>{{ assignment.subject }}</td>
				<td>{{ assignment.due_date }}</td>
				<td>{{ assignment.status }}</td>
				<td>
					<a href="{{ url_for('assignment_detail', assignment_id=assignment.id) }}" class="btn btn-sm btn-info">View</a>
					{% if user_type == 'staff' and assignment.teacher_id == staff_id %}
						<a href="{{ url_for('teacher_assignment_submissions', assignment_id=assignment.id) }}" class="btn btn-sm btn-secondary ms-2">Submissions</a>
					{% endif %}
				</td>
			</tr>
			{% else %}
			<tr><td colspan="5">No assignments found.</td></tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %}