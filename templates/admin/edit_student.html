{% extends "base.html" %}
{% block title %}Edit Student{% endblock %}
{% block content %}
<h2>Edit Student</h2>
<form action="" method="post" class="row g-3">
  <div class="col-md-4">
    <label>First Name</label>
    <input type="text" name="first_name" class="form-control" value="{{ student.first_name }}" required>
  </div>
  <div class="col-md-4">
    <label>Last Name</label>
    <input type="text" name="last_name" class="form-control" value="{{ student.last_name }}" required>
  </div>
  <div class="col-md-4">
    <label>Class</label>
    <select name="class_id" class="form-control" required>
      {% for c in classes %}
      <option value="{{ c.id }}" {% if c.id == student.class_id %}selected{% endif %}>{{ c.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-md-4">
    <label>Date of Birth</label>
    <input type="date" name="date_of_birth" class="form-control" value="{{ student.date_of_birth|safe }}" required>
  </div>
  <div class="col-md-4">
    <label>Gender</label>
    <select name="gender" class="form-control" required>
      <option value="Male" {% if student.gender == 'Male' %}selected{% endif %}>Male</option>
      <option value="Female" {% if student.gender == 'Female' %}selected{% endif %}>Female</option>
    </select>
  </div>
  <div class="col-md-4">
    <label>Phone</label>
    <input type="text" name="phone" class="form-control" value="{{ student.phone }}" required>
  </div>
  <div class="col-md-4">
    <label>Address</label>
    <input type="text" name="address" class="form-control" value="{{ student.address }}" required>
  </div>
  <div class="col-md-4">
    <label>Fee Status</label>
    <select name="fee_status" class="form-control" required>
      <option value="Paid" {% if student.fee_status == 'Paid' %}selected{% endif %}>Paid</option>
      <option value="Unpaid" {% if student.fee_status == 'Unpaid' %}selected{% endif %}>Unpaid</option>
    </select>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Update Student</button>
    <a href="{{ url_for('admin_students') }}" class="btn btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}