{% extends "base.html" %}
{% block title %}Staff Management{% endblock %}
{% block content %}
<h2 class="mb-4">Staff Members</h2>
<table class="table table-striped table-hover">
  <thead class="table-primary">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
      <th>Department</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for staff in staff_list %}
    <tr>
      <td>{{ staff.id }}</td>
      <td>{{ staff.first_name }} {{ staff.last_name }}</td>
      <td>{{ staff.username }}</td>
      <td>{{ staff.email }}</td>
      <td>{{ staff.department_name }}</td>
      <td>
        <a href="{{ url_for('view_staff', staff_id=staff.id) }}" class="btn btn-info btn-sm">View</a>
        <form action="{{ url_for('delete_staff', staff_id=staff.id) }}" method="post" style="display:inline-block">
          <button class="btn btn-danger btn-sm" onclick="return confirm('Delete this staff member?')">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<hr>
<h3>Add Staff Member</h3>
<form action="{{ url_for('add_staff') }}" method="post" class="row g-3">
  <div class="col-md-4">
    <label>Username</label>
    <input type="text" name="username" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label>Password</label>
    <input type="password" name="password" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label>Email</label>
    <input type="email" name="email" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label>First Name</label>
    <input type="text" name="first_name" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label>Last Name</label>
    <input type="text" name="last_name" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label>Department</label>
    <select name="department_id" class="form-control" required>
      {% for dept in departments %}
      <option value="{{ dept.id }}">{{ dept.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Add Staff</button>
  </div>
</form>
{% endblock %}