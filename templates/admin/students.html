{% extends "base.html" %}
{% block title %}Students Management{% endblock %}
{% block content %}
<h2 class="mb-4">Students</h2>
<table class="table table-striped table-hover">
  <thead class="table-primary">
    <tr>
      <th>ID</th>
      <th>Admission No.</th>
      <th>Name</th>
      <th>Class</th>
      <th>Gender</th>
      <th>Phone</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for student in students %}
    <tr>
      <td>{{ student.student_id }}</td>
      <td>{{ student.admission_number }}</td>
      <td>{{ student.first_name }} {{ student.last_name }}</td>
      <td>{{ student.class_name }}</td>
      <td>{{ student.gender }}</td>
      <td>{{ student.phone }}</td>
      <td>
        
        <a href="{{ url_for('edit_student', student_id=student.student_id) }}" class="btn btn-warning btn-sm">Edit</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<hr>
<h3>Add Student</h3>
<form action="{{ url_for('add_student') }}" method="post" class="row g-3">
  <div class="col-md-3">
    <label>Admission No.</label>
    <input type="text" name="admission_number" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>First Name</label>
    <input type="text" name="first_name" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>Last Name</label>
    <input type="text" name="last_name" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>Class</label>
    <select name="class_id" class="form-control" required>
      {% for c in classes %}
      <option value="{{ c.id }}">{{ c.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-md-3">
    <label>Date of Birth</label>
    <input type="date" name="date_of_birth" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>Gender</label>
    <select name="gender" class="form-control" required>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
    </select>
  </div>
  <div class="col-md-3">
    <label>Phone</label>
    <input type="text" name="phone" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>Address</label>
    <input type="text" name="address" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>Enrollment Date</label>
    <input type="date" name="enrollment_date" class="form-control" required>
  </div>
  <div class="col-md-3">
    <label>Fee Status</label>
    <select name="fee_status" class="form-control" required>
      <option value="Paid">Paid</option>
      <option value="Unpaid">Unpaid</option>
    </select>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Add Student</button>
  </div>
</form>
{% endblock %}